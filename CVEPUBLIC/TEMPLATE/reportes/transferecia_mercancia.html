<script language="javascript" src="../../TEMPLATE/general/funciones.js"></script>
<SCRIPT LANGUAGE="JavaScript" src="../../TEMPLATE/general/checkfield.js"></script>
<script language="JavaScript" type="text/JavaScript" src="../../TEMPLATE/general/popup.js"></script>
<SCRIPT LANGUAGE="JavaScript" type="text/JavaScript" SRC="../../TEMPLATE/general/CalendarPopup.js"></SCRIPT>

<script language="JavaScript">


function veroe(elem){
	document.location = '../ordenent/ordenent_00.php?oe=' + elem.id;
}

	function EvaluaFechas(fi,ft){
		var fecha1=new Date()
		var fecha2=new Date()
		var str1 = fi;
		var str2 = ft;
		
		fechaArr1 = new Array;
		fechaArr2 = new Array;
		 
		fechaArr1 = str1.split("/");
		fechaArr2 = str2.split("/");
		/* convierte la fecha a nÃºmero comparable*/
		fecha1.setFullYear(fechaArr1[2],fechaArr1[1]-1,fechaArr1[0])
		fecha2.setFullYear(fechaArr2[2],fechaArr2[1]-1,fechaArr2[0])
		 
		if (fecha1>fecha2){
		  return false;
		}
		if (fecha1 == fecha2){
		  return true;
		}
		if (fecha1 < fecha2){
		  return true;
		}
	}

function submitForm(){

	formulario = document.formulario_busqueda;

	var fecha_inicio,fecha_termino;
	var valor=true;
	
	fecha_inicio =document.formulario_busqueda.feini.value;
	fecha_termino=document.formulario_busqueda.fefin.value;
	valor=EvaluaFechas(fecha_inicio,fecha_termino);
	if(valor==false){
		alert('Fecha de inicio mayor que fecha de termino en la busqueda de la orden de entrega.');
		document.formulario_busqueda.feini.select();
		return false;
	}
	
	if(formulario.buscar.value != ''){
		if (formulario.filtro[0].checked && validar_numero( formulario.buscar, 'Debe ingresar numero CC/NIT valido' )) {
			return false;
		}
	
		if (formulario.filtro[2].checked && validar_numero( formulario.buscar, 'Debe ingresar numero de cotizacion' )) {
			return false;
		}

		if (formulario.filtro[3].checked && validar_numero( formulario.buscar, 'Debe ingresar numero de Orden de Entrega' )) {
			return false;
		}
	}
	document.formulario_busqueda.accion.value='reporte';
	formulario.submit();
}

</script>
		<SCRIPT LANGUAGE="JavaScript">document.write(getCalendarStyles());</SCRIPT>
		<SCRIPT LANGUAGE="JavaScript" ID="js17">
			var ayer = new Date();
			ayer.setDate(ayer.getDate()-1);
			var cal1 = new CalendarPopup("testdiv1");
			cal1.offsetX = -110;
			cal1.offsetY =  70;
			var cal2 = new CalendarPopup("testdiv1");
			cal2.offsetX = -90;
			cal2.offsetY =  46;
			
			//cal1.addDisabledDates(null,formatDate(ayer,"yyyy-MM-dd"));
	  	</SCRIPT>
<script>
var arrlockdoc = new Array();

var arrlockop = new Array();

var arrlockdocprnsap = new Array();



<!-- BEGIN doclocklist -->

	arrlockdoc['{id_documento}'] = '{lockprintgde}';

	arrlockop['{id_documento}'] = '{lockprintop}';

	arrlockdocprnsap['{id_documento}'] = '{indmsgsap}';

<!-- END doclocklist -->

/*Fin Instancia para cargar la validacion de generacion de picking*/

function chequea(campo){



	if(document.accionesc.check_op==null){

		alert ('Ud. No tiene guias de despacho para pickear');

	}						

	else{

		if(check.checked==true){

			for (i = 0; i < campo.length; i++){

				campo[i].checked = true ;
                
			}

		}//Fin If

		else{

			for (i = 0; i < campo.length; i++){

				campo[i].checked = false ;

			}

		}//Fin else anidado

	}//FIN ELSE PRINCIPAL

}

</script>

<link href="estilos.css" rel="stylesheet" type="text/css">
<script type="javascript" src="../../TEMPLATE/general/funciones.js"></script>

<table width="760" height="15" border="0" cellpadding="0"cellspacing="0">
	<tr>
    <td width="50%"  height="30" class="titulonormal">Reporte Transferencia Mercancía</td>

</table>
	<table width="900"  height="350" border="0" cellpadding="0" cellspacing="0">
		<tr>
	
			<td class="textonormal">
				<form name="formulario_busqueda" method="post" onSubmit="return false;">
				<input type="hidden" name="accion" value="">
					<tr>
						<td width=900>						<fieldset>
						<legend class="Textonormal">Datos de B&uacute;squeda</legend>
 
 <table border="0" height="auto" align="left" class="textonormal">
 <tr align="center">
 	<td>
 		Compra Desde&nbsp;<input name="feini" id="feini" class="Textonormal" readonly type="text" size=10 maxlength=10 value="{fechaucofini}" onClick="cal1.select(document.formulario_busqueda.feini,'anchor1','dd/MM/yyyy'); return false;">
		<a href="" onClick="cal1.select(document.formulario_busqueda.feini,'anchor1','dd/MM/yyyy'); return false;" name="anchor1" id="anchor1"> <img src="../../IMAGES/cal.gif" width="16" height="16" border="0" title="Fecha Validez"></a>
		<DIV ID="testdiv1" STYLE="position:absolute;visibility:hidden;background-color:white;layer-background-color:white;"></DIV>
	</td>
	<td>			
		Compra Hasta&nbsp;<input name="fefin" id="fefin"  readonly type="text" class="Textonormal" size=10 maxlength=10 value="{fechaucoffin}" onClick="cal1.select(document.formulario_busqueda.fefin,'anchor2','dd/MM/yyyy'); return false;">
		<a href="#" onClick="cal1.select(document.formulario_busqueda.fefin,'anchor2','dd/MM/yyyy'); return false;" name="anchor2" id="anchor2"> <img src="../../IMAGES/cal.gif" width="16" height="16" border="0" title="Fecha Validez"></a>
		<DIV ID="testdiv1" STYLE="position:absolute;visibility:hidden;background-color:white;layer-background-color:white;"></DIV>
	</td>
	<td>
		
		Vendedor&nbsp;<select name="select_usuario" class="TextoNormal"  onChange="document.mreporte.nomusuario.value=document.mreporte.select_usuario.options(document.mreporte.select_usuario.selectedIndex).text">
			<option value="" {selectedt} class="Textonormal">TODOS</option>							
			<!-- BEGIN usuario -->
			<option value="{codigousuario}" {selecteda}>{nomusuario}</option>
			<!-- END usuario -->			
		</select>
	</td>
 </tr>
 <tr>
    <td align="right">
    	<input name="filtro" id="radio1" type="radio" value="1" align="left" {checkr1}>
	    CC/NIT/RUT&nbsp;&nbsp;
	</td>
	<td align="center">
		<input name="filtro" id="radio2" type="radio" value="2" {checkr2}>
	    Raz&oacute;n Social
	</td>
	<td>
	    <input name="filtro" id="radio3" type="radio" value="3" {checkr3}>
	    N&ordm;&nbsp;CO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	    <input name="filtro" type="radio" id="radio15" value="4" {checkr4}>
	    N&ordm;&nbsp;OE
	    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" size="18" name="buscar" class="Textonormal" value="{buscar}">
	    
    </td>
 </tr>
 <tr align="center">
 	<td>
 		  Centro&nbsp;Facturación<select name="select_factu" onChange="submitForm()" class="TextoNormal">
          <option value="0" class="Textonormal">TODOS</option>
          <!-- BEGIN factura -->
          <option value="{codigo_localf}" {selectedf}>{nom_localf}</option>
          <!-- END factura -->
        </select>
 	</td>
 	<td colspan="2">
 		Centro&nbsp;Suministro<select name="select_suministro" onChange="submitForm()" class="TextoNormal">
          <option value="0" class="Textonormal">TODOS</option>
          <!-- BEGIN suministro -->
          <option value="{codigo_local}" {selected}>{nom_local}</option>
          <!-- END suministro -->
        </select>
 		Estado<select name="select_estado" onChange="submitForm()" class="TextoNormal" >
          <option value="0" class="Textonormal">TODOS</option>
          <!-- BEGIN estado -->
          <option value="{id_estado}" {selected}>{descripcion}</option>
          <!-- END estado -->
        </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="button" class="Textonormal" align="left" name="busqueda2" onClick="submitForm();" value="Buscar">
 	</td>
 </tr>
 </table>
						                 
						<table border="0" height="auto" align="left" class="textonormal">
  <tr>
    <td width="2" scope="col">&nbsp;</td>
    <td scope="col" colspan="4" align="left">		 				  
    </td>
    
  </tr>
  <tr>
    <td align="right"></td>
    <td width="272"  align="left"> 
    </td>
    <td width="279"> 
    </td>
    <td width="200" colspan="3"> 
    </td>
  </tr></form>
</table>
</fieldset>
<br>
<table  width="800" border="0" cellpadding="2" cellspacing="0" class="tituloadvertencia"><td height="2" align="center">{text_maximo}</td></table>
			<table width="900" border="0" cellpadding="2" cellspacing="0" class="tabla2">
				<tr>
					<th width="5%" >N&ordm; OE</th>
					<th width="5%" >N&ordm; CO </th>
					<th width="8%" >Estado &nbsp;</th>
					<th width="10%">Tipo Entrega </th>
					<th width="14%">Centro Facturación</th>
					<th width="14%">Centro Suministro</th>
					<th width="14%">CC/NIT/RUT</th>
					<th width="20%">Raz&oacute;n Social</th>
					<th width="10%">Total</th>
				</tr>
			</table>
			<div style="height:'331'; width:900; overflow:auto;">
			<table width=100% border="1" class="tabla2" cellspacing="0">
				<form name=accionesc method=post  onSubmit="return false;">
				<input type=hidden name="accion" value="">
				<input type=hidden name="ideli" value="">
				<input type=hidden name="rut" value="{rut}">
				<INPUT TYPE=hidden NAME="sendrut" VALUE="">
	            <!-- BEGIN infocotizacion -->
				<tr>
					<td width="5%"  align="center">{OE}&nbsp;</td>
					<td width="5%"  align="center">{numerocot}&nbsp;</td>
					<td width="8%"  align="center">{nomestadocot}&nbsp;</td>
					<td width="10%" align="center" >{nomtipoentrega}&nbsp;</td>
					<td width="14%" align="center">{nom_localfact}&nbsp;</td>
					<td width="14%" align="center">{nom_localcsum}&nbsp;</td>
					<td width="14%" align="center">{rutdv}&nbsp;</td>	
					<td width="20%" align="left">{razonsoc}&nbsp;</td>
					<td width="10%" align="right">{totaloe}&nbsp;</td>
				</tr>
	            <!-- END infocotizacion -->
	            </form>
	            {icoimp}
			</table>
			</div>
		</td>
	</tr>
	<tr><td>
</td></tr>
</table>
<script type="text/javascript">
<!--
function checkDV( elem ){
	return true;
}
document.formulario_busqueda.buscar.focus();
//-->
</script>